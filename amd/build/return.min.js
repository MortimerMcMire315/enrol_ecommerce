define(["jquery","enrol_payment/spin","core/str","core/cfg"],function(i,c,n,a){return{checkEnrol:function(n,e,r,o,t){i.ajax({url:n,method:"POST",data:{courseid:e,paymentid:t},success:function(n){var e=JSON.parse(n);!0===e.result?window.location.href=o:!1===e.result&&"Pending"===e.reason&&(window.location.href=a.wwwroot+"/enrol/payment/paypalPending.php")},error:function(){alert(r[0])}})},init:function(r,o,t,i){var a=this;n.get_strings([{key:"errorcheckingenrolment",component:"enrol_payment"},{key:"errorpaymentpending",component:"enrol_payment"}]).done(function(n){var e=document.getElementById("spin-container");new c({lines:13,length:38,width:17,radius:45,scale:.45,corners:1,color:"#000000",fadeColor:"transparent",speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,zIndex:2e9,className:"spinner",shadow:"0 0 1px transparent",position:"relative"}).spin(e),a.checkEnrol(o,t,n,r,i),setInterval(function(){a.checkEnrol(o,t,n,r,i)},5e3)})}}});