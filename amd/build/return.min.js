define(["jquery","enrol_payment/spin","core/str"],function(o,a,n){return{checkEnrol:function(n,e,t,r){o.ajax({url:n,method:"POST",data:{courseid:e},success:function(n){!0===JSON.parse(n).result&&(window.location.href=r)},error:function(){alert(t[0])}})},init:function(t,r,o){var i=this;n.get_strings([{key:"errorcheckingenrolment",component:"enrol_payment"}]).done(function(n){var e=document.getElementById("spin-container");new a({lines:13,length:38,width:17,radius:45,scale:.65,corners:1,color:"#000000",fadeColor:"transparent",speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"}).spin(e),setInterval(function(){i.checkEnrol(r,o,n,t)},5e3)})}}});